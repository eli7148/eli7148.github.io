<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash Royale Deck Maker</title>
    <style>
        /* --- Base Layout and Font --- */
        @font-face {
            font-family: 'You Blockhead';
            src: url('./you-blockhead.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        * {
            font-family: 'You Blockhead', 'Arial', sans-serif !important;
            box-sizing: border-box;
        }
        body {
            background-color: #1e2a38;
            color: #ecf0f1;
            margin: 0;
            padding: 20px;
            height: 100vh;
            overflow: hidden;
        }
        .app-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 500px; 
            gap: 20px;
            height: 100%;
        }
        .left-column {
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 0;
        }
        .panel {
            background-color: #2c3e50;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }
        #search-bar {
            width: 100%; padding: 10px; font-size: 16px; border-radius: 5px;
            border: 2px solid #3498db; background-color: #1e2a38; color: #ecf0f1;
        }
        .card-selection {
            flex: 1;
            min-height: 0;
            overflow-y: auto;
        }
        .card-selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, 150px);
            gap: 15px;
            justify-content: center;
        }
        .deck-builder {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        .deck-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .deck-slot {
             aspect-ratio: 0.833;
             background-color: #1e2a38;
             border-radius: 8px;
             cursor: pointer;
             overflow: hidden;
             position: relative;
        }
        .deck-slot.filled {
            background-color: transparent;
        }
        .sprite {
            cursor: pointer;
            transition: transform 0.2s;
            position: relative; 
        }
        .sprite:hover {
            transform: scale(1.05);
        }
        .deck-slot > .sprite {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%) scale(0.75); 
        }
        .deck-slot > .sprite:hover {
            transform: translate(-50%, -50%) scale(0.8);
        }
        h2 {
            margin-top: 0;
            text-align: center;
            margin-bottom: 15px;
            font-size: 24px;
            width: 100%;
        }
        #card-count {
            color: white; 
            font-size: 18px; 
            vertical-align: middle;
        }
        .shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) scale(0.75); }
            25% { transform: translate(-50%, -50%) scale(0.75) translateX(-5px); }
            50% { transform: translate(-50%, -50%) scale(0.75) translateX(5px); }
            75% { transform: translate(-50%, -50%) scale(0.75) translateX(-5px); }
        }
        .elixir-overlay {
            position: absolute;
            top: 5px;
            left: 5px;
            width: 38px;
            height: 45px;
            background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAARoSURBVFhHzZlriFVVFMd/5w4z48ykmTBqKILgHy2KNkVB0EUhblR81kWMLoKuuuoKwdZNb29b5cIs1FKEuAm7CCoKgopgMSolZk0kKWaah2k+fXDXybmZe+6d4xSHDxxmzpz5n7322WvvvQckJycnaZqml2wGdoDTwFngN3AA+Aw8A4bA+b4+A36W7S/5NTAKvAM2gR3gasw0/gIOgL+k+5fAX+ARsAxcAgaAL0CSHwI/Sq4zYA04AuwFvgLPgYdM058AF0A10JMc4g3gLXAA+BzoAMOBh4BvOfbPAc+BhcB74G9g3xvgO/AJ8B+4DjwD+pfvA/+BN3l64JdwCdgCvErSAx6X/CvAPeBZ4FvgN3Ap8Bv4CjgI/A7+A04C/wHngYvAc+A5cAm4DFwCzgefg0uA58A3wMXgY+A7cBl4DLwMXgO+A5eB58FHYD74CBgFPgaGA9OAaWAC+AgYAf4CjgD/gaOAf+AocBTYCSwGVgKbgM3ApmA3sB1YDWwG1gLbgM3AprA72AOsB9YCa4F1wLpgXXAtuB5cC64D1wPrgevB9eB6cD24HlwPbge3g9vBbeB2cD24GdwEbgY3gRvBjeA2cCO4CdwEbgV3givBneA2cCu4E9wKbgv3gisW6f/gT+A/4B/wD3gY/Ae8CrwHvgeeBN8Cr4Pvge+BV8F3wffA98C74Dvg+/B98C7YAD4HngYbAc+AZYBnwTLAU+CZYA3wVLAa+CZYA3wdrAW+DNYA3wfrgHXDt8FawPvg7WAt8C74e1gLfAO+HtYC3wBvh7WAX+Ct8dawDvgLXA/eBq8A14PrwXvgdfB68B54HbwevgfeB68H74D3wOvhe+Bt8DYYA8YB08Bk8AUYAc4Ax8BT4BhwDDiCHECOAUeQ48BR5BhwDDmCHCGPIUeEY8gx4BhyDDmCHEWOEMeQY8wx4BhzDDnGHGPOIUeYY8wx5BhzjDnEnHPOIUeEc+AxYAD4ClgE/gaWAW8Ay4B3wCLAceA48AhwHDgOnCAOAccB08BEYBr4BBgGzgCngE+Ay8A54AvwCXAWuAxcAg4DlwHHgePAceAYcBQ4AhwFjgKngePAVeAocBU4ClwFjgOXgUvA5eAycAm4DFwGzgCXgcvAZeAycBl4DlgGLgOWAccCy4BlwLJgGbAsWAYsC5YDy4HlwHLgOGBJcAy4HjgSXA4cCS4HjgWXA8uB5cBy4AhwPLgMHAUuBYeBy4Dh4HJwFDgOXA4OBReCo8Bl4Lh/A14HLgLHAYuB4/4NeBy4DBwGLgLH/RvwJLgMHAUuBYf9G/AscAw4ClwEjuM34DlwADgOXASO+zfgB+As8BjYCPwFjgH/kGfAMeA/8D84CvwnnAP+A8+Ap8EHYD6YBj4CBuB/4BhwFDgKHAMOAUeQY8Ax5BhwDDmCHEWOIMeQY8gx4BhzDDmGnIMz8DnwDjgCPAeeBYeAkcAy4BmwFPge2ATsBTYDC4EdwE5gL3ApkE+X/wE8nWe/v4GvJSy+L/l/Ac3R97P0h5/vAAAAAElFTkSuQmCC');
            background-size: contain;
            background-repeat: no-repeat;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        .elixir-cost {
            font-family: 'Arial', sans-serif !important;
            font-size: 20px;
            font-weight: bold;
            color: white;
            text-shadow: 1px 1px 2px #000, -1px -1px 2px #000, 1px -1px 2px #000, -1px 1px 2px #000;
        }

        /* --- Full Sprite Sheet CSS --- */
        .sprite { background: url('images/sprite.png') no-repeat top left; width: 150px; height: 180px; } 
        .sprite.archers { background-position: 0 0; } 
        .sprite.arrows { background-position: -160px 0; } 
        .sprite.baby-dragon { background-position: -320px 0; } 
        .sprite.balloon { background-position: -480px 0; } 
        .sprite.bandit { background-position: -640px 0; } 
        .sprite.barbarian-barrel { background-position: -800px 0; } 
        .sprite.barbarian-hut { background-position: -960px 0; } 
        .sprite.barbarians { background-position: -1120px 0; } 
        .sprite.bats { background-position: -1280px 0; } 
        .sprite.battle-healer { background-position: -1440px 0; } 
        .sprite.battle-ram { background-position: -1600px 0; } 
        .sprite.bomb-tower { background-position: -1760px 0; } 
        .sprite.bomber { background-position: -1920px 0; } 
        .sprite.bowler { background-position: -2080px 0; } 
        .sprite.cannon-cart { background-position: -2240px 0; } 
        .sprite.cannon { background-position: -2400px 0; } 
        .sprite.clone { background-position: -2560px 0; } 
        .sprite.dark-prince { background-position: -2720px 0; } 
        .sprite.dart-goblin { background-position: -2880px 0; } 
        .sprite.earthquake { background-position: -3040px 0; } 
        .sprite.electro-dragon { background-position: -3200px 0; } 
        .sprite.electro-giant { background-position: -3360px 0; } 
        .sprite.electro-spirit { background-position: -3520px 0; } 
        .sprite.electro-wizard { background-position: -3680px 0; } 
        .sprite.elite-barbarians { background-position: -3840px 0; } 
        .sprite.elixir-collector { background-position: -4000px 0; } 
        .sprite.elixir-golem { background-position: -4160px 0; } 
        .sprite.executioner { background-position: -4320px 0; } 
        .sprite.fire-spirits { background-position: -4480px 0; } 
        .sprite.fireball { background-position: -4640px 0; } 
        .sprite.firecracker { background-position: -4800px 0; } 
        .sprite.fisherman { background-position: -4960px 0; } 
        .sprite.flying-machine { background-position: -5120px 0; } 
        .sprite.freeze { background-position: -5280px 0; } 
        .sprite.furnace { background-position: -5440px 0; } 
        .sprite.giant-skeleton { background-position: -5600px 0; } 
        .sprite.giant-snowball { background-position: -5760px 0; } 
        .sprite.giant { background-position: -5920px 0; } 
        .sprite.goblin-barrel { background-position: -6080px 0; } 
        .sprite.goblin-cage { background-position: -6240px 0; } 
        .sprite.goblin-gang { background-position: -6400px 0; } 
        .sprite.goblin-giant { background-position: -6560px 0; } 
        .sprite.goblin-hut { background-position: -6720px 0; } 
        .sprite.goblins { background-position: -6880px 0; } 
        .sprite.golem { background-position: -7040px 0; } 
        .sprite.guards { background-position: -7200px 0; } 
        .sprite.graveyard { background-position: -7360px 0; } 
        .sprite.heal-spirit { background-position: -7520px 0; } 
        .sprite.heal { background-position: -7680px 0; } 
        .sprite.hog-rider { background-position: -7840px 0; } 
        .sprite.hunter { background-position: -8000px 0; } 
        .sprite.ice-golem { background-position: -8160px 0; } 
        .sprite.ice-spirit { background-position: -8320px 0; } 
        .sprite.ice-wizard { background-position: -8480px 0; } 
        .sprite.inferno-dragon { background-position: -8640px 0; } 
        .sprite.knight { background-position: -8800px 0; } 
        .sprite.lava-hound { background-position: -8960px 0; } 
        .sprite.lightning { background-position: -9120px 0; } 
        .sprite.inferno-tower { background-position: -9280px 0; } 
        .sprite.lumberjack { background-position: -9440px 0; } 
        .sprite.mega-minion { background-position: -9600px 0; } 
        .sprite.miner { background-position: -9760px 0; } 
        .sprite.mega-knight { background-position: -9920px 0; } 
        .sprite.magic-archer { background-position: -10080px 0; } 
        .sprite.mini-pekka { background-position: -10240px 0; } 
        .sprite.minion-horde { background-position: -10400px 0; } 
        .sprite.minions { background-position: -10560px 0; } 
        .sprite.mirror { background-position: -10720px 0; } 
        .sprite.mortar { background-position: -10880px 0; } 
        .sprite.mother-witch { background-position: -11040px 0; } 
        .sprite.musketeer { background-position: -11200px 0; } 
        .sprite.night-witch { background-position: -11360px 0; } 
        .sprite.pekka { background-position: -11520px 0; } 
        .sprite.poison { background-position: -11680px 0; } 
        .sprite.prince { background-position: -11840px 0; } 
        .sprite.princess { background-position: -12000px 0; } 
        .sprite.rage { background-position: -12160px 0; } 
        .sprite.ram-rider { background-position: -12320px 0; } 
        .sprite.rascals { background-position: -12480px 0; } 
        .sprite.rocket { background-position: -12640px 0; } 
        .sprite.royal-delivery { background-position: -12800px 0; } 
        .sprite.royal-ghost { background-position: -12960px 0; } 
        .sprite.royal-giant { background-position: -13120px 0; } 
        .sprite.royal-hogs { background-position: -13280px 0; } 
        .sprite.royal-recruits { background-position: -13440px 0; } 
        .sprite.skeleton-army { background-position: -13600px 0; } 
        .sprite.skeleton-barrel { background-position: -13760px 0; } 
        .sprite.skeleton-dragons { background-position: -13920px 0; } 
        .sprite.skeletons { background-position: -14080px 0; } 
        .sprite.sparky { background-position: -14240px 0; } 
        .sprite.spear-goblins { background-position: -14400px 0; } 
        .sprite.tesla { background-position: -14560px 0; } 
        .sprite.the-log { background-position: -14720px 0; } 
        .sprite.three-musketeers { background-position: -14880px 0; } 
        .sprite.tombstone { background-position: -15040px 0; } 
        .sprite.tornado { background-position: -15200px 0; } 
        .sprite.valkyrie { background-position: -15360px 0; } 
        .sprite.wall-breakers { background-position: -15520px 0; } 
        .sprite.witch { background-position: -15680px 0; } 
        .sprite.wizard { background-position: -15840px 0; } 
        .sprite.x-bow { background-position: -16000px 0; } 
        .sprite.zap { background-position: -16160px 0; } 
        .sprite.zappies { background-position: -16320px 0; }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="left-column">
            <div class="panel">
                <input type="search" id="search-bar" placeholder="Search for cards...">
            </div>
            <div class="panel card-selection">
                <h2>Card Collection <span id="card-count">(0)</span></h2>
                <div class="card-selection-grid" id="card-grid"></div>
            </div>
        </div>
        <div class="panel deck-builder">
            <h2>Deck</h2>
            <div class="deck-grid" id="deck-grid">
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
            </div>
        </div>
    </div>
    <script>
        const elixirCosts = {
            'archers': 3, 'arrows': 3, 'baby-dragon': 4, 'balloon': 5, 'bandit': 3, 'barbarian-barrel': 2, 'barbarian-hut': 7, 'barbarians': 5, 'bats': 2, 'battle-healer': 4, 'battle-ram': 4, 'bomb-tower': 4, 'bomber': 2, 'bowler': 5, 'cannon-cart': 5, 'cannon': 3, 'clone': 3, 'dark-prince': 4, 'dart-goblin': 3, 'earthquake': 3, 'electro-dragon': 5, 'electro-giant': 7, 'electro-spirit': 1, 'electro-wizard': 4, 'elite-barbarians': 6, 'elixir-collector': 6, 'elixir-golem': 3, 'executioner': 5, 'fire-spirits': 1, 'fireball': 4, 'firecracker': 2, 'fisherman': 3, 'flying-machine': 4, 'freeze': 4, 'furnace': 4, 'giant-skeleton': 6, 'giant-snowball': 2, 'giant': 5, 'goblin-barrel': 3, 'goblin-cage': 4, 'goblin-gang': 3, 'goblin-giant': 6, 'goblin-hut': 5, 'goblins': 2, 'golem': 8, 'guards': 3, 'graveyard': 5, 'heal-spirit': 1, 'heal': 2, 'hog-rider': 4, 'hunter': 4, 'ice-golem': 2, 'ice-spirit': 1, 'ice-wizard': 3, 'inferno-dragon': 4, 'inferno-tower': 5, 'knight': 3, 'lava-hound': 7, 'lightning': 6, 'lumberjack': 4, 'magic-archer': 4, 'mega-knight': 7, 'mega-minion': 3, 'miner': 3, 'mini-pekka': 4, 'minion-horde': 5, 'minions': 3, 'mirror': 0, 'mortar': 4, 'mother-witch': 4, 'musketeer': 4, 'night-witch': 4, 'pekka': 7, 'poison': 4, 'prince': 5, 'princess': 3, 'rage': 2, 'ram-rider': 5, 'rascals': 5, 'rocket': 6, 'royal-delivery': 3, 'royal-ghost': 3, 'royal-giant': 6, 'royal-hogs': 5, 'royal-recruits': 7, 'skeleton-army': 3, 'skeleton-barrel': 3, 'skeleton-dragons': 4, 'skeletons': 1, 'sparky': 6, 'spear-goblins': 2, 'tesla': 4, 'the-log': 2, 'three-musketeers': 9, 'tombstone': 3, 'tornado': 3, 'valkyrie': 4, 'wall-breakers': 2, 'witch': 5, 'wizard': 5, 'x-bow': 6, 'zap': 2, 'zappies': 4
        };
        const cardClassNames = Object.keys(elixirCosts);
        
        const cardGrid = document.getElementById('card-grid');
        const deckGrid = document.getElementById('deck-grid');
        const cardCountSpan = document.getElementById('card-count');
        
        let cardHTML = '';
        for (const cardName of cardClassNames) {
            const cost = elixirCosts[cardName] !== undefined ? elixirCosts[cardName] : '?';
            // Added a check for mirror which has a variable cost, represented as 0 here
            const displayCost = (cardName === 'mirror') ? '?' : cost;
            
            cardHTML += `
                <div class="sprite ${cardName}" data-card-class="sprite ${cardName}">
                    <div class="elixir-overlay">
                        <span class="elixir-cost">${displayCost}</span>
                    </div>
                </div>`;
        }
        cardGrid.innerHTML = cardHTML;
        cardCountSpan.textContent = `(${cardClassNames.length})`;

        function addCardToDeck(clickedCard) {
            const cardClasses = clickedCard.dataset.cardClass;
            const newCardName = cardClasses.split(' ')[1];

            const slotsInDeck = deckGrid.querySelectorAll('.deck-slot');
            for (const slot of slotsInDeck) {
                const cardInSlot = slot.querySelector('.sprite');
                if (cardInSlot && cardInSlot.classList.contains(newCardName)) {
                    cardInSlot.classList.add('shake');
                    setTimeout(() => cardInSlot.classList.remove('shake'), 500);
                    return;
                }
            }
            
            for (const slot of slotsInDeck) {
                if (slot.innerHTML === '') {
                    const newCardDiv = document.createElement('div');
                    newCardDiv.className = cardClasses;
                    slot.appendChild(newCardDiv);
                    slot.classList.add('filled');
                    return;
                }
            }
        }

        function removeCardFromDeck(clickedSlot) {
            clickedSlot.innerHTML = '';
            clickedSlot.classList.remove('filled');
        }

        cardGrid.addEventListener('click', function(event) {
            const clickedCard = event.target.closest('.sprite');
            if (clickedCard) {
                addCardToDeck(clickedCard);
            }
        });

        deckGrid.addEventListener('click', function(event) {
            const clickedSlot = event.target.closest('.deck-slot');
            if (clickedSlot && clickedSlot.innerHTML !== '') {
                removeCardFromDeck(clickedSlot);
            }
        });
    </script>
</body>
</html>
