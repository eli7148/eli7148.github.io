<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Clash Royale Deck Maker</title>
    <style>
        /* --- Base Layout and Font --- */
        @font-face {
            font-family: 'You Blockhead';
            src: url('./you-blockhead.ttf') format('truetype');
            font-weight: normal;
            font-style: normal;
        }
        * {
            font-family: 'You Blockhead', 'Arial', sans-serif !important;
            box-sizing: border-box;
        }
        body {
            background-color: #1e2a38;
            color: #ecf0f1;
            margin: 0;
            padding: 20px;
            height: 100vh;
            overflow: hidden;
        }
        .app-container {
            width: 100%;
            max-width: 1400px;
            margin: 0 auto;
            display: grid;
            /* FIXED: Made the right column wider */
            grid-template-columns: 1fr 500px; 
            gap: 20px;
            height: 100%;
        }
        .left-column {
            display: flex;
            flex-direction: column;
            gap: 20px;
            min-height: 0;
        }
        .panel {
            background-color: #2c3e50;
            padding: 15px;
            border-radius: 8px;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.4);
        }
        #search-bar {
            width: 100%; padding: 10px; font-size: 16px; border-radius: 5px;
            border: 2px solid #3498db; background-color: #1e2a38; color: #ecf0f1;
        }
        .card-selection {
            flex: 1;
            min-height: 0;
            overflow-y: auto;
        }
        .card-selection-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, 150px);
            gap: 15px;
            justify-content: center;
        }
        .deck-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
        }
        .deck-slot {
             aspect-ratio: 0.833;
             background-color: #1e2a38;
             border: 2px dashed #4a627a;
             border-radius: 8px;
             cursor: pointer;
             overflow: hidden;
             position: relative;
        }
        /* ADDED: This style makes the slot background disappear when a card is added */
        .deck-slot.filled {
            background-color: transparent;
            border: none;
        }
        .sprite {
            cursor: pointer;
            transition: transform 0.2s;
        }
        .sprite:hover {
            transform: scale(1.05);
        }
        .deck-slot > .sprite {
            position: absolute;
            top: 50%;
            left: 50%;
            /* Adjusted scale for the new larger deck slots */
            transform: translate(-50%, -50%) scale(0.75); 
        }
        .deck-slot > .sprite:hover {
            transform: translate(-50%, -50%) scale(0.8);
        }
        h2 {
            margin-top: 0;
            text-align: center;
            /* FIXED: Blue lines permanently removed, margin added for spacing */
            margin-bottom: 15px;
            font-size: 24px;
            width: 100%;
        }
        #card-count {
            color: #95a6; font-size: 18px; vertical-align: middle;
        }
        .shake {
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) scale(0.75); }
            25% { transform: translate(-50%, -50%) scale(0.75) translateX(-5px); }
            50% { transform: translate(-50%, -50%) scale(0.75) translateX(5px); }
            75% { transform: translate(-50%, -50%) scale(0.75) translateX(-5px); }
        }

        /* --- Full Sprite Sheet CSS --- */
        .sprite { background: url('images/sprite.png') no-repeat top left; width: 150px; height: 180px; } 
        .sprite.archers { background-position: 0 0; } 
        .sprite.arrows { background-position: -160px 0; } 
        .sprite.baby-dragon { background-position: -320px 0; } 
        .sprite.balloon { background-position: -480px 0; } 
        .sprite.bandit { background-position: -640px 0; } 
        .sprite.barbarian-barrel { background-position: -800px 0; } 
        .sprite.barbarian-hut { background-position: -960px 0; } 
        .sprite.barbarians { background-position: -1120px 0; } 
        .sprite.bats { background-position: -1280px 0; } 
        .sprite.battle-healer { background-position: -1440px 0; } 
        .sprite.battle-ram { background-position: -1600px 0; } 
        .sprite.bomb-tower { background-position: -1760px 0; } 
        .sprite.bomber { background-position: -1920px 0; } 
        .sprite.bowler { background-position: -2080px 0; } 
        .sprite.cannon-cart { background-position: -2240px 0; } 
        .sprite.cannon { background-position: -2400px 0; } 
        .sprite.clone { background-position: -2560px 0; } 
        .sprite.dark-prince { background-position: -2720px 0; } 
        .sprite.dart-goblin { background-position: -2880px 0; } 
        .sprite.earthquake { background-position: -3040px 0; } 
        .sprite.electro-dragon { background-position: -3200px 0; } 
        .sprite.electro-giant { background-position: -3360px 0; } 
        .sprite.electro-spirit { background-position: -3520px 0; } 
        .sprite.electro-wizard { background-position: -3680px 0; } 
        .sprite.elite-barbarians { background-position: -3840px 0; } 
        .sprite.elixir-collector { background-position: -4000px 0; } 
        .sprite.elixir-golem { background-position: -4160px 0; } 
        .sprite.executioner { background-position: -4320px 0; } 
        .sprite.fire-spirits { background-position: -4480px 0; } 
        .sprite.fireball { background-position: -4640px 0; } 
        .sprite.firecracker { background-position: -4800px 0; } 
        .sprite.fisherman { background-position: -4960px 0; } 
        .sprite.flying-machine { background-position: -5120px 0; } 
        .sprite.freeze { background-position: -5280px 0; } 
        .sprite.furnace { background-position: -5440px 0; } 
        .sprite.giant-skeleton { background-position: -5600px 0; } 
        .sprite.giant-snowball { background-position: -5760px 0; } 
        .sprite.giant { background-position: -5920px 0; } 
        .sprite.goblin-barrel { background-position: -6080px 0; } 
        .sprite.goblin-cage { background-position: -6240px 0; } 
        .sprite.goblin-gang { background-position: -6400px 0; } 
        .sprite.goblin-giant { background-position: -6560px 0; } 
        .sprite.goblin-hut { background-position: -6720px 0; } 
        .sprite.goblins { background-position: -6880px 0; } 
        .sprite.golem { background-position: -7040px 0; } 
        .sprite.guards { background-position: -7200px 0; } 
        .sprite.graveyard { background-position: -7360px 0; } 
        .sprite.heal-spirit { background-position: -7520px 0; } 
        .sprite.heal { background-position: -7680px 0; } 
        .sprite.hog-rider { background-position: -7840px 0; } 
        .sprite.hunter { background-position: -8000px 0; } 
        .sprite.ice-golem { background-position: -8160px 0; } 
        .sprite.ice-spirit { background-position: -8320px 0; } 
        .sprite.ice-wizard { background-position: -8480px 0; } 
        .sprite.inferno-dragon { background-position: -8640px 0; } 
        .sprite.knight { background-position: -8800px 0; } 
        .sprite.lava-hound { background-position: -8960px 0; } 
        .sprite.lightning { background-position: -9120px 0; } 
        .sprite.inferno-tower { background-position: -9280px 0; } 
        .sprite.lumberjack { background-position: -9440px 0; } 
        .sprite.mega-minion { background-position: -9600px 0; } 
        .sprite.miner { background-position: -9760px 0; } 
        .sprite.mega-knight { background-position: -9920px 0; } 
        .sprite.magic-archer { background-position: -10080px 0; } 
        .sprite.mini-pekka { background-position: -10240px 0; } 
        .sprite.minion-horde { background-position: -10400px 0; } 
        .sprite.minions { background-position: -10560px 0; } 
        .sprite.mirror { background-position: -10720px 0; } 
        .sprite.mortar { background-position: -10880px 0; } 
        .sprite.mother-witch { background-position: -11040px 0; } 
        .sprite.musketeer { background-position: -11200px 0; } 
        .sprite.night-witch { background-position: -11360px 0; } 
        .sprite.pekka { background-position: -11520px 0; } 
        .sprite.poison { background-position: -11680px 0; } 
        .sprite.prince { background-position: -11840px 0; } 
        .sprite.princess { background-position: -12000px 0; } 
        .sprite.rage { background-position: -12160px 0; } 
        .sprite.ram-rider { background-position: -12320px 0; } 
        .sprite.rascals { background-position: -12480px 0; } 
        .sprite.rocket { background-position: -12640px 0; } 
        .sprite.royal-delivery { background-position: -12800px 0; } 
        .sprite.royal-ghost { background-position: -12960px 0; } 
        .sprite.royal-giant { background-position: -13120px 0; } 
        .sprite.royal-hogs { background-position: -13280px 0; } 
        .sprite.royal-recruits { background-position: -13440px 0; } 
        .sprite.skeleton-army { background-position: -13600px 0; } 
        .sprite.skeleton-barrel { background-position: -13760px 0; } 
        .sprite.skeleton-dragons { background-position: -13920px 0; } 
        .sprite.skeletons { background-position: -14080px 0; } 
        .sprite.sparky { background-position: -14240px 0; } 
        .sprite.spear-goblins { background-position: -14400px 0; } 
        .sprite.tesla { background-position: -14560px 0; } 
        .sprite.the-log { background-position: -14720px 0; } 
        .sprite.three-musketeers { background-position: -14880px 0; } 
        .sprite.tombstone { background-position: -15040px 0; } 
        .sprite.tornado { background-position: -15200px 0; } 
        .sprite.valkyrie { background-position: -15360px 0; } 
        .sprite.wall-breakers { background-position: -15520px 0; } 
        .sprite.witch { background-position: -15680px 0; } 
        .sprite.wizard { background-position: -15840px 0; } 
        .sprite.x-bow { background-position: -16000px 0; } 
        .sprite.zap { background-position: -16160px 0; } 
        .sprite.zappies { background-position: -16320px 0; }
    </style>
</head>
<body>
    <div class="app-container">
        <div class="left-column">
            <div class="panel">
                <input type="search" id="search-bar" placeholder="Search for cards...">
            </div>
            <div class="panel card-selection">
                <h2>Card Collection <span id="card-count">(0)</span></h2>
                <div class="card-selection-grid" id="card-grid"></div>
            </div>
        </div>
        <div class="panel deck-builder">
            <h2>Deck</h2>
            <div class="deck-grid" id="deck-grid">
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
                <div class="deck-slot"></div><div class="deck-slot"></div>
            </div>
        </div>
    </div>
    <script>
        const cardClassNames = [
            'archers', 'arrows', 'baby-dragon', 'balloon', 'bandit', 'barbarian-barrel', 'barbarian-hut', 'barbarians', 'bats', 'battle-healer', 'battle-ram', 'bomb-tower', 'bomber', 'bowler', 'cannon-cart', 'cannon', 'clone', 'dark-prince', 'dart-goblin', 'earthquake', 'electro-dragon', 'electro-giant', 'electro-spirit', 'electro-wizard', 'elite-barbarians', 'elixir-collector', 'elixir-golem', 'executioner', 'fire-spirits', 'fireball', 'firecracker', 'fisherman', 'flying-machine', 'freeze', 'furnace', 'giant-skeleton', 'giant-snowball', 'giant', 'goblin-barrel', 'goblin-cage', 'goblin-gang', 'goblin-giant', 'goblin-hut', 'goblins', 'golem', 'guards', 'graveyard', 'heal-spirit', 'heal', 'hog-rider', 'hunter', 'ice-golem', 'ice-spirit', 'ice-wizard', 'inferno-dragon', 'knight', 'lava-hound', 'lightning', 'inferno-tower', 'lumberjack', 'mega-minion', 'miner', 'mega-knight', 'magic-archer', 'mini-pekka', 'minion-horde', 'minions', 'mirror', 'mortar', 'mother-witch', 'musketeer', 'night-witch', 'pekka', 'poison', 'prince', 'princess', 'rage', 'ram-rider', 'rascals', 'rocket', 'royal-delivery', 'royal-ghost', 'royal-giant', 'royal-hogs', 'royal-recruits', 'skeleton-army', 'skeleton-barrel', 'skeleton-dragons', 'skeletons', 'sparky', 'spear-goblins', 'tesla', 'the-log', 'three-musketeers', 'tombstone', 'tornado', 'valkyrie', 'wall-breakers', 'witch', 'wizard', 'x-bow', 'zap', 'zappies'
        ];
        
        const cardGrid = document.getElementById('card-grid');
        const deckGrid = document.getElementById('deck-grid');
        const cardCountSpan = document.getElementById('card-count');
        
        let cardHTML = '';
        for (const cardName of cardClassNames) {
            cardHTML += `<div class="sprite ${cardName}" data-card-class="sprite ${cardName}"></div>`;
        }
        cardGrid.innerHTML = cardHTML;
        cardCountSpan.textContent = `(${cardClassNames.length})`;

        function addCardToDeck(clickedCard) {
            const cardClasses = clickedCard.dataset.cardClass;
            const newCardName = cardClasses.split(' ')[1];

            const slotsInDeck = deckGrid.querySelectorAll('.deck-slot');
            for (const slot of slotsInDeck) {
                const cardInSlot = slot.querySelector('.sprite');
                if (cardInSlot && cardInSlot.classList.contains(newCardName)) {
                    cardInSlot.classList.add('shake');
                    setTimeout(() => cardInSlot.classList.remove('shake'), 500);
                    return;
                }
            }
            
            for (const slot of slotsInDeck) {
                if (slot.innerHTML === '') {
                    const newCardDiv = document.createElement('div');
                    newCardDiv.className = cardClasses;
                    // Add a class to the parent slot when it's filled
                    slot.classList.add('filled');
                    slot.appendChild(newCardDiv);
                    return;
                }
            }
        }

        function removeCardFromDeck(clickedSlot) {
            clickedSlot.innerHTML = '';
            // Remove the 'filled' class to restore the background
            clickedSlot.classList.remove('filled');
        }

        cardGrid.addEventListener('click', function(event) {
            const clickedCard = event.target.closest('.sprite');
            if (clickedCard) {
                addCardToDeck(clickedCard);
            }
        });

        deckGrid.addEventListener('click', function(event) {
            const clickedSlot = event.target.closest('.deck-slot');
            if (clickedSlot && clickedSlot.innerHTML !== '') {
                removeCardFromDeck(clickedSlot);
            }
        });
    </script>
</body>
</html>
